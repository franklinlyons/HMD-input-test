<!DOCTYPE html>
<html>

<head>
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>


.row {
  display: flex;
  vertical-align: middle;
}

/* Create two equal columns that sits next to each other */
.column {
  flex: 50%;
  padding: 10px;
  height: 100vh; /* Should be removed. Only for demonstration */
  background:#ff3;
  margin-left: :10px;
  text-align: center;
}

.column:active{
  background:#f97171;
}

#timer{
  position: absolute;
  top:50%;
  left: 50%;
}

</style>




</head>

<body>


  <div class="row">
    <div class="column" id="leftSide">
      <h2 id="leftTxt" >Left</h2>

    </div>
    <div class="column" id="rightSide">
      <h2 id="rightTxt" > Right</h2>

    </div>
  </div>

  <div id="timer"> </div>


<script language="javascript">

function init (){

  document.body.addEventListener('touchmove', function(event) {
    event.preventDefault();
  }, false);
}
function leftMouseDown(event) {

  leftMouseIsDown = true;
  leftCount +=1;
  leftTxt.innerHTML = leftCount;
  if (leftCount ==3){
    leftCount =0;
    successSound.play();
  }

  //if (rightMouseIsDown) setTime();
  intTimer = setInterval(setTime, 1000);
}

function leftMouseUp(event) {
  leftMouseIsDown = false;
  leftTxt.innerHTML = leftCount;
  clearInterval(intTimer);
  timer.innerHTML ="";
  totalSeconds =0;
}

function rightMouseDown(event) {

  rightMouseIsDown = true;
  rightCount +=1;
  rightTxt.innerHTML = rightCount;
  if (rightCount ==3){
    success2Sound.play();
    rightCount =0;
  }

}

function rightMouseUp(event) {
  rightMouseIsDown = false;
  rightTxt.innerHTML = rightCount;

}

function setTime() {
  ++totalSeconds;
  timer.innerHTML = totalSeconds ;

  if ( totalSeconds == 3 ){
    clearInterval(intTimer);
    timer.innerHTML ="<span style='font-size:100px; margin-left:-50px;'>&#129409</span>";
    totalSeconds=0;
    successSound.play();
  }
}



let leftSide = document.querySelector('#leftSide');
let rightSide = document.querySelector('#rightSide');

let leftTxt = document.querySelector('#leftTxt');
let rightTxt = document.querySelector('#rightTxt');

let leftCount = 0;
let rightCount = 0;

let leftMouseIsDown = false;
let rightMouseIsDown = false;

let timer = document.getElementById("timer");
var totalSeconds = 0;

var intTimer;

let successSound = new Audio('./audio/success.mp3');
let success2Sound = new Audio('./audio/success.mp3');

leftSide.onmousedown = leftMouseDown;
leftSide.onmouseup = leftMouseUp;

rightSide.onmousedown = rightMouseDown;
rightSide.onmouseup = rightMouseUp;


init();


</script>

</body>
</html>
